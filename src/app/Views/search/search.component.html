<div class="search-page">
  <simple-notifications></simple-notifications>
  <app-header></app-header>
  <div class="container-fluid mx-auto full-height d-flex align-items-center text-center">
    <div class="login-form mx-auto mb-3">

      <h1> Search </h1>

      <form #searchForm="ngForm" class="search-bar mx-auto my-3">
        <div class="search text-center m-auto">
          <input autocomplete="off" class="search-form-input search m-auto" (input)="search()" name="searchQuery"
            [(ngModel)]="query" type="text" placeholder="Search">
          <img class="icon" src="../../../assets/search.svg" alt="search-icon">
          <img *ngIf="loading" class="pl-3" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        </div>

        <ul class="search-results m-auto" *ngIf="query && ( brands?.length > 0 || collections?.length > 0 || watches?.length > 0)">
          <li class="results-title" *ngIf="brands?.length > 0">brands: </li>
          <li class="results-item" *ngFor="let brand of brands | slice: 0:10"> <a [routerLink]="['/brand',brand?.name]">
              {{brand?.name}} </a> </li>
          <li class="results-title" *ngIf="collections?.length > 0">collections: </li>
          <li class="results-item" *ngFor="let collection of collections | slice: 0:10"> <a [routerLink]="['/collection',collection?._id]">
              {{collection?.name}} </a> </li>
          <li class="results-title" *ngIf="watches?.length > 0">watches: </li>
          <li class="results-item" *ngFor="let watch of watches | slice: 0:10"> <a [routerLink]="['/watch',watch?.referenceNumber]">
              {{watch?.model}} </a> </li>
          <li class="results-title" *ngIf="watches?.length > 0"> <a [routerLink]="['/search/advanced-search', {'query': query? query: ''}]">
              View all watches </a></li>
        </ul>
        <div class="col-12 p-3">
          <button [routerLink]="['/search/advanced-search', {'query': query? query: ''}]" class="btn secondry-btn wide-btn m-2">
            Advanced Search </button>
        </div>
      </form>
    </div>
  </div>
  <app-footer></app-footer>
</div>
